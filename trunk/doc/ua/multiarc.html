<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Зовнішні архіваториы</title>
<link rel="STYLESHEET" type="text/css" href="doublecmd.css"/>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
body {
  margin: 5px 5px 5px 5px;
  background-color: #ffffff;
}
/* ========== Text Styles ========== */
hr { color: #000000}
body, table /* Normal text */
{
 font-size: 10pt;
 font-family: 'Arial';
 font-style: normal;
 font-weight: normal;
 color: #000000;
 text-decoration: none;
}
span.rvts1 /* Heading */
{
 font-weight: bold;
 color: #0000ff;
}
span.rvts2 /* Subheading */
{
 font-weight: bold;
 color: #000080;
}
span.rvts3 /* Keywords */
{
 font-style: italic;
 color: #800000;
}
a.rvts4, span.rvts4 /* Jump 1 */
{
 color: #008000;
 text-decoration: underline;
}
a.rvts5, span.rvts5 /* Jump 2 */
{
 color: #008000;
 text-decoration: underline;
}
span.rvts6
{
 font-family: 'Courier New';
 color: #000000;
}
span.rvts7
{
 font-family: 'Courier New';
 font-weight: bold;
 color: #0000ff;
}
span.rvts8
{
 font-family: 'Courier New';
 font-weight: bold;
 color: #000080;
}
a.rvts9, span.rvts9
{
 font-family: 'Courier New';
 color: #008000;
 text-decoration: underline;
}
span.rvts10
{
 font-size: 12pt;
 color: #000000;
}
span.rvts11
{
 font-size: 14pt;
 color: #000000;
}
span.rvts12
{
 font-size: 9pt;
 color: #000000;
}
span.rvts13
{
 font-size: 9pt;
 color: #000000;
 text-decoration: underline;
}
span.rvts14
{
 font-weight: bold;
 color: #000000;
}
span.rvts15
{
 font-size: 9pt;
 font-weight: bold;
 color: #000000;
}
span.rvts16
{
 color: #000000;
}
span.rvts17
{
 font-size: 9pt;
 font-style: italic;
 font-weight: bold;
 color: #000000;
}
span.rvts18
{
 font-size: 9pt;
 font-family: 'Courier';
 color: #000000;
}
span.rvts19
{
 font-size: 9pt;
 font-style: italic;
 color: #000000;
}
span.rvts20
{
 font-family: 'Courier';
 font-weight: bold;
 color: #000000;
}
span.rvts21
{
 font-family: 'Courier';
 color: #000000;
}
span.rvts22
{
 font-family: 'Courier';
 color: #000000;
 text-decoration: underline;
}
span.rvts23
{
 font-family: 'Courier';
 font-weight: bold;
 color: #000000;
 text-decoration: underline;
}
span.rvts24
{
 font-size: 9pt;
 font-family: 'Courier';
 color: #000000;
 text-decoration: underline;
}
span.rvts25
{
 font-size: 9pt;
 font-family: 'Courier';
 font-weight: bold;
 color: #000000;
}
span.rvts26
{
 font-size: 8pt;
 font-family: 'Microsoft Sans Serif';
 color: #000000;
}
span.rvts27
{
 font-size: 8pt;
 font-family: 'Microsoft Sans Serif';
 font-weight: bold;
 color: #000000;
}
span.rvts28
{
 font-size: 7pt;
 color: #000000;
}
/* ========== Para Styles ========== */
p,ul,ol /* Paragraph Style */
{
 text-align: left;
 text-indent: 0px;
 padding: 0px 0px 0px 0px;
 margin: 0px 0px 0px 0px;
}
.rvps1 /* Centered */
{
 text-align: center;
}
.rvps2
{
 margin: 8px 0px 1px 0px;
}
.rvps3
{
 margin: 8px 0px 0px 0px;
}
.rvps4
{
 margin: 8px 0px 4px 0px;
}
.rvps5
{
 text-indent: -16px;
 margin: 0px 0px 8px 16px;
}
.rvps6
{
 text-indent: -8px;
 margin: 8px 0px 0px 8px;
}
.rvps7
{
 text-indent: -8px;
 margin: 8px 0px 0px 8px;
}
.rvps8
{
 text-align: center;
 text-indent: -8px;
 margin: 8px 0px 0px 8px;
}
.rvps9
{
 margin: 1px 0px 5px 0px;
}
.rvps10
{
 margin: 1px 0px 5px 0px;
}
.rvps11
{
 margin: 8px 0px 0px 0px;
}
.rvps12
{
 margin: 8px 0px 1px 0px;
}
--></style>
</head>
<body alink=#ff0000>

<div class="TITLEPAGE">
	<h1>Зовнішні архіватори</h1>
	<hr/>
  </div>
  
  <div class="TOC">
	  <dt class="bold"><a name="TOC">Зміст</a></dt>
		<dl>
		  <dt>1.1. <a href="#multiarc">Описання Multiarc.ini</a></dt>
		  <dt>1.2. <a href="#listformat">Описання рядків Format</a></dt>
          <dt>1.3. <a href="#commandformat">Формат визнчення команд</a></dt>
		</dl>
  </div>

	<p>Double Commander використовує механізм роботи з зовнішніми архіваторами аналогічний плагіну <a href="http://wcx.sourceforge.net/">MultiArc</a> для Total Commander. Більшість з
	приведених далі пояснень і прикладів позичено з довідкового файлу до цього плагіну.</p>


<p class=rvps1><a name="multiarc"></a>
<p><br></p>
<p><span class=rvts11>Описання Multiarc.ini</span></p>
<p class=rvps3><span class=rvts12> Всі налаштування зовнішніх архіваторів зберігаються у файлі multiarc.ini. Цей файл стандартний INI-файл. Він містить кілька розділів (секцій). Ці секції містять параметри - пари рядків разділених знаком "Дорівнює" (=). Ці файли являються текстовими і можуть бути відредаговані будь-яким текстовим редактором. Кожний архіватор, що підтримується DC повинен бути описаний в окремій секції в multiarc.ini. Дивіться нижче детальну інформацію про їх структуру. Також є спеціальна секція з іменем "MultiArc". Ця секція містить налаштування які застосовуються до всіх архіваторів, тобто загальні налаштування.</span></p>
<p class=rvps3><span class=rvts12>Структура типової секції описання архіватора: </span></p>
<p class=rvps3><span class=rvts18>[Ім’я_типу]</span></p>
<p class=rvps3><span class=rvts18>Параметр=Значення параметра</span></p>
<p class=rvps3><span class=rvts18>Шаблон= Рядок, що представляє шаблон</span></p>
<p class=rvps3><span class=rvts18>Команда= рядок команди</span></p>
<p class=rvps3><span class=rvts18>Прапорець = 0 чи 1 в залежності від стану прапорця.</span></p>
<p class=rvps4><span class=rvts20>Ім’я_типу</span><span class=rvts21> коротке ім’я типу архіватора. Обов’язково повинно бути унікальним і бути набраним символами англійського алфавіту.</span></p>
<p class=rvps4><span class=rvts22>Наприклад:</span></p>
<p class=rvps4><span class=rvts21>[ARJ] </span></p>
<p class=rvps4><span class=rvts23>Параметри</span></p>
<p class=rvps4><span class=rvts20>Archiver</span><span class=rvts21> Шлях до архіватора. Шлях може містити змінні оточення, наприклад %WINDIR% або %COMMANDER_PATH%.</span></p>
<p class=rvps4><span class=rvts20>ID</span><span class=rvts21> (необовязковий) -- сигнатура (ID) архіватора, використовується для визначення чи являється данний файл архівом цього типу. Записується групами по 2 шістнадцяткових символа, разділених пробілами. Якщо архіватор може оброблювати кілька версій архівів з різними сигнатурами, вони розділяються комами.</span></p>
<p class=rvps4><span class=rvts20>IDPos</span><span class=rvts21> (необовязковий) -- позиція ID в архіві. Якщо позиція не вказана, ID буде шукатися починаючи з початку архіва. Ви можете визначити позицію з кінця файла, з допомогою знака "-" (мінус). Якщо для архівів з цим ID може бути кілька місць розташування сигнатури, вони розділяються комами (зазвичай це різні версії архівів, що підтримуються архіватором). Також зверніть увагу на опис прапорця SkipSfxHeader. Спеціальне значення &lt;SeekID&gt; визначає чи потрібно шукати ID, якщо вони не знайдені по другим позиціям вказаними в параметрі. Якщо IDPos відсутній, тоді ID буде шукатися в діапазоні: менше з значень - розмір файла, IDSeekRange. Значения можно вводить в десятичном&nbsp; или шестнадцатеричном виде. Например позицию находящуюся в 12345 байт от начала файла можно описать как</span></p>
<p class=rvps4><span class=rvts21>IDPos = 12345</span></p>
<p class=rvps4><span class=rvts21>(в десятковій системі) або (в шістнадцятковій системі числення)</span></p>
<p class=rvps4><span class=rvts21>IDPos = 0х3039</span></p>
<p class=rvps4><span class=rvts21>Відємні значення в шістнадцятковому вигляді описуються як 0xFFFFFFFF (-1 в десятковому)</span></p>
<p class=rvps4><span class=rvts20>IDSeekRange</span><span class=rvts21> (необовязковий) число байт, в якому MultiArc буде намагатися знайти ID.Якщо параметр відсутній, буде використано менше з значень Размір_файла аба 1Мбайт. Пошук завжди виконується від початку файла, SkipSfxHeader ігнорується. Це може сповільнити відкриття деяких архівів або пошук в архіві. Якщо відсутні IDPOS, тоді використовується пошук ID в діапазоні від початку файла до меншого з значень -- (розмір файла, IDSeekRange).</span></p>
<!--
<p class=rvps4><span class=rvts20>ExcludeIDs</span><span class=rvts21> (необовязковий)&nbsp; Сигнатура при знахожденні якої файл визначається як "Опрацювати не можливо". </span></p>
<p class=rvps4><span class=rvts21>Дана можливість введена для коректної обробки файлів які генеруються програмами InnoSetup, NSIS (NullSoft Instalation System) і можливо іншими.</span></p>
<p class=rvps4><span class=rvts21>Алгоритм роботи даного параметра:</span></p>
<p class=rvps4><span class=rvts21>Якщо знаходимо ID з параметра </span><span class=rvts20>ID</span><span class=rvts21>, тоді перевіряємо ExcludeIDs.</span></p>
<p class=rvps4><span class=rvts21>Якщо знайшли співпадіння по будь-якому виключеному ID, тоді рахуємо, що файл не подтримується утилітою </span><span class=rvts20>Archiver</span><span class=rvts21>. </span></p>
<p class=rvps4><span class=rvts21>Формат параметра: (Signature, [offset], [Absolute]),(Signature, [offset], [Absolute]), .... (Signature, [offset], [Absolute]). </span></p>
<p class=rvps4><span class=rvts21>Где: </span></p>
<p class=rvps4><span class=rvts21>Signature -- це послідовність байтів які повинні бути знайдені. </span></p>
<p class=rvps4><span class=rvts21>Absolute -- (необов’язковий) абсолютне (1) чи відносне (0) зміщення. Якщо не вказано, то за замовчуванням = 0.&nbsp; </span></p>
<p class=rvps4><span class=rvts21>Якщо 1, тоді зміщення береться від початку файла (якщо Offset &gt;= 0), або від кінця файла (якщо Offset &lt;0).</span></p>
<p class=rvps4><span class=rvts21>Якщо 0, тоді зміщення береться відносно знайденого ID. Дивися також опис параметра offset</span></p>
<p class=rvps4><span class=rvts21>Offset -- (необов’язковий) Зміщення відносно поточного ID (якщо = 0, тоді дивимося починаючи з початку ID, якщо &gt;0 тоді на offset байт у перед (до кінця файла) від початку сигнатури (ID), якщо &lt;0 тоді на offset байт назад (до початку файла) від початку сигнатури. Якщо не вказано, тоді за замовчуванням = 0. Дивися також опис параметра Absolute.</span></p>
<p class=rvps4><span class=rvts21>Приклад для параметра ExcludeIDs.</span></p>
<p class=rvps4><span class=rvts21>ID= 01 02 03 04, 01 03 02</span></p>
<p class=rvps4><span class=rvts21>IDPOS = 5</span></p>
<p class=rvps4><span class=rvts21>ExcludeIDs= (00, -1), (01 02 03 04 05,0), (06,5), (07,11, 1), (08,-1, 1)</span></p>
<p class=rvps4><span class=rvts21>MultiArc буде визначати, що файл може бути обраблений якщо співпала хоч одна сигнатура з ID, і не співпали сигнатури з ExcludeIDs.</span></p>
<p class=rvps4><span class=rvts21>В цьому прикладі будуть прийняті файли які місять в собі послідовність байт (xx в даному прикладі будь-які байти):</span></p>
<p class=rvps4><span class=rvts21>0&nbsp; 1&nbsp; 2&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; 7&nbsp; 8&nbsp; </span></p>
<p class=rvps4><span class=rvts21>xx xx xx xx xx 01 02 03 04 xx (крім правила (01 02 03 04 05,0))</span></p>
<p class=rvps4><span class=rvts21>xx xx xx xx xx 01 03 02 xx</span></p>
<p class=rvps4><span class=rvts21>але відхилені файли які містять</span></p>
<p class=rvps4><span class=rvts21>0&nbsp; 1&nbsp; 2&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; 7&nbsp; 8&nbsp; 9</span></p>
<p class=rvps4><span class=rvts21>xx xx xx xx 00 01 02 03 04 xx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; правило (00, -1)</span></p>
<p class=rvps4><span class=rvts21>xx xx xx xx 00 01 03 02 xx </span></p>
<p class=rvps4><span class=rvts21>0&nbsp; 1&nbsp; 2&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; 7&nbsp; 8&nbsp; 9&nbsp; 10 </span></p>
<p class=rvps4><span class=rvts21>xx xx xx xx xx 01 02 03 04 05 xx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; правило (01 02 03 04 05,0)</span></p>
<p class=rvps4><span class=rvts21>0&nbsp; 1&nbsp; 2&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; 7&nbsp; 8&nbsp; 9&nbsp; 10 11 12 13 </span></p>
<p class=rvps4><span class=rvts21>xx xx xx xx xx 01 02 03 04 xx xx xx xx 06&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; правило (06,5)</span></p>
<p class=rvps4><span class=rvts21>xx xx xx xx xx 01 03 02 xx xx xx xx 06 xx&nbsp; </span></p>
<p class=rvps4><span class=rvts21>0&nbsp; 1&nbsp; 2&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; 7&nbsp; 8&nbsp; 9&nbsp; 10 11 12 </span></p>
<p class=rvps4><span class=rvts21>xx xx xx xx xx 01 02 03 04 xx xx 07 xx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; правило&nbsp; (07,11, 1)</span></p>
<p class=rvps4><span class=rvts21>xx xx xx xx xx 01 03 02 xx xx xx 07 xx </span></p>
<p class=rvps4><span class=rvts21>0&nbsp; 1&nbsp; 2&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; 7&nbsp; 8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EOF </span></p>
<p class=rvps4><span class=rvts21>xx xx xx xx xx 01 02 03 04 .............. 08&nbsp;&nbsp; правило (08,-1, 1)</span></p>
<p class=rvps4><span class=rvts21>xx xx xx xx xx 01 03 02 xx .............. 08</span></p>
-->
<p class=rvps4><span class=rvts20>Extension</span><span class=rvts21> розширення, які використовуються архівами (без крапки).</span></p>
<p class=rvps4><span class=rvts20>Description</span><span class=rvts21> Описання архіватора. Рядок, що містить версію, автора і т.п. </span></p>
<p class=rvps4><span class=rvts22>Наприклад:</span></p>
<p class=rvps4><span class=rvts21>ID = 00 FF, CC DD, 55 EF 32 12,</span></p>
<p class=rvps4><span class=rvts21>IDPos = 0, 0xd, -6, &lt;SeekID&gt;</span></p>
<p class=rvps4><span class=rvts21>IDSeekRange=100000</span></p>
<p class=rvps4><span class=rvts21>Extension = hhh, hpj, tzu</span></p>
<p class=rvps4><span class=rvts21>Description="PivkARC v7.1365 (c) by Kon' Petrovich"</span></p>
<p class=rvps4><span class=rvts21>Архіви в даному прикладі будуть перевірятися в наступному порядку.</span></p>
<p class=rvps4><span class=rvts21>Встановлення позициї на 0 і перевірка кожного ID визначеного в параметрі. Потім перехід на позицію 13 і перевірка всіх ID, перехід на позицію 6 рахуючи з кінця файла, і в кінці, шукати ID в діапазоні від 0 до 100000 якщо файл більше 100000 чи 0-розмір файла. Якщо в будь-якій з цих перевірок файл буде містити один з ID, то файл рахується таким, що підтримується архіватором.</span></p>
<p class=rvps4><span class=rvts23>Шаблони</span></p>
<p class=rvps4><span class=rvts20>Start</span><span class=rvts21>(необов’язковий) будь-яка частина рядка у виводі який видасть архіватор в процесі обробки. </span></p>
<p class=rvps4><span class=rvts20>End</span><span class=rvts21> (необов’язковий) будь-яка частина рядка у виводі який видасть архіватор в процесі обробки. </span></p>
<p class=rvps4><span class=rvts22>Примітка для Start і End шаблонів:</span><span class=rvts21> Якщо текст починається з '^', він буде порівнюватися починаючи з початку рядка, символ ^ в порівнянні участі не приймає. В інших випадках текст буде шукатися в будь-якому місці рядка.</span></p>
<p class=rvps4><span class=rvts20>Format0 ... Format&lt;n&gt;</span><span class=rvts21> - формат виводу файлів. Якщо опис файла у виводі архіватора розміщено у кілька рядків, використовуйте відповідне число параметрів Format. Ви можете визначити до 50 рядків Format.</span></p>
<p class=rvps4><span class=rvts21>Опис рядків Format&nbsp;&nbsp;&nbsp; </span></p>
<p class=rvps4><span class=rvts22>Наприклад:</span></p>
<p class=rvps4><span class=rvts21>Start="^-------"</span></p>
<p class=rvps4><span class=rvts21>End="^Total files listed: "</span></p>
<p class=rvps4><span class=rvts21>Format1="zzzzzzzzzz aaaaa&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yyyy tt dd hh mm ss"</span></p>
<p class=rvps4><span class=rvts21>Format2=" "</span></p>
<p class=rvps4><span class=rvts23>Команди</span></p>
<p class=rvps4><span class=rvts20>List</span><span class=rvts21> - Отримання списку вмісту архіва.</span></p>
<p class=rvps4><span class=rvts20>Extract</span><span class=rvts21> - Видобування файла з архіву.</span></p>
<p class=rvps4><span class=rvts20>ExtractWithPath</span><span class=rvts21> - Видобування файла(-ів) з архіва з повним шляхом.</span></p>
<p class=rvps4><span class=rvts22>Примітка до команд видобування:</span><span class=rvts21> Якщо прапорець BatchUnpack встановлений на 1, то буде використаний ExtractWithPath.</span></p>
<p class=rvps4><span class=rvts20>Test</span><span class=rvts21> - перевірка архіва.</span></p>
<p class=rvps4><span class=rvts20>Delete</span><span class=rvts21> - видалити файл з архіву.</span></p>
<p class=rvps4><span class=rvts20>Add</span><span class=rvts21> - додати файл в архів.</span></p>
<p class=rvps4><span class=rvts20>AddMultiVolume</span><span class=rvts21> - створити багатотомний архів.</span></p>
<p class=rvps4><span class=rvts20>AddSelfExtract</span><span class=rvts21> - створити саморозпаковуючийся архів.</span></p>
<p class=rvps4><span class=rvts20>InputString</span><span class=rvts21> - вставка деякого рядка у вхідний потік архіватора. Це використовується для емулювання натиску деякиых клавіш при старті архіватора. Використовується для деяких "шароварних" утиліт які потребують натиску Y перед работою. =-)</span></p>
<p class=rvps4><span class=rvts22>Зверніть увагу:</span><span class=rvts21> Всі команди за виключенням InputString використовують формат визначення команд&nbsp;&nbsp; </span></p>
<p class=rvps4><span class=rvts23>Прапорці</span></p>
<p class=rvps4><span class=rvts20>IgnoreErrors</span><span class=rvts21> якщо активний, код завершення архіватора ігнорується. Використовуйте обережно. </span></p>
<p class=rvps4><span class=rvts20>SkipEmpty</span><span class=rvts21> Файли з пустими іменами не будуть додаватися в список</span></p>
<p class=rvps4><span class=rvts20>UnixPath</span><span class=rvts21> Якщо шляхи у виводі архіватора у форматі Unix встановіть цей прапорець.</span></p>
<p class=rvps4><span class=rvts20>Debug</span><span class=rvts21> Якщо цей прапорець активний -- весь вивід утиліти архівування буде записано в лог-файл, розташований в тій самій директорії, що і multiarc.wcx з іменем "multiarc.%TYPENAME%.log" де %TYPENAME% це TypeName відповідного опису архіватора. Якщо деякий список файлів використовується в командах, то ці файли також не будуть видалені після виконання команди. Шукайте їх в паці %TEMP%/$mltwcx. Всановлюйте цей прапорець, тільки якщо ви виконуєте запис всієї активності. Це необхідно під час написання нового addon-а. Не використовуйте його якщо ви не потребуєте його. Цей лог файл може "зїсти" ваш вільний дисковий простір дуже швидко. =-) Я вас попередив!.</span></p>
<p class=rvps4><span class=rvts20>SkipSfxHeader</span><span class=rvts21> за замовчуванням false. Визначає чи потрібно пропускати SFX-частину архіва для пошуку </span><span class=rvts20>ID</span><span class=rvts21> архіва. Наприклад:</span></p>
<p class=rvps4><span class=rvts21>7z SFX-архів, сам архів знаходиться після SFX частини, і пошук </span><span class=rvts20>ID</span><span class=rvts21> треба починати після пропуску цієї частини, SkipSfxHeader повинно бути TRUE. 7z відрізняється від інших архіваторів тим, що від версії до версії міняється розмір SFX розпаковщика, крім того є другі SFX частини, не від авторів 7z. Размір цих частин різноманітний, хоча ID архіва знаходиться на фіксованому місці. До цього прапорця, треба було вказувати список IDPos, але якщо необхідної позиції не вдавалось знайти, MultiArc не міг обробити такий архів.</span></p>
<p class=rvps3><span class=rvts21>Інсталяція InnoSetup. </span><span class=rvts20>ID</span><span class=rvts21> знаходиться в SFX частині архіва, пропуск робити не потрібно. Шукати треба з початку файла, SkipSfxHeader повинен бути False.</span></p>
<p class=rvps3><span class=rvts20>;</span><span class=rvts21> ознака коментаря, цей рядок буде проігнорований. </span><span class=rvts12> </span></p>
<p class=rvps3><span class=rvts12>Файл addon-а являється секцією MultiArc.ini і призначений для передачі другим користувачам MultiArc.&nbsp; </span></p>
<p class=rvps2><span class=rvts11><br></span></p>
	<p class="NAVBACK"><a href="#TOC">вгору</a></p>
<p><br></p>
<p><br></p>
<p class=rvps1><a name="listformat"></a>
<p><br></p>
<p><span class=rvts11>Опис рядків Format</span></p>
<p class=rvps3><span class=rvts12> Для розбору файла виводу MultiArc використовує шаблон FormatN. Якщо список файлів використовує одні і ті самі рядки для виводу інформації про кожен файл в архіві, використовуйте відповідну кількість шаблонів Format. Шаблон Format це рядкова маска для видобування інформації з одного рядка списку файлів.&nbsp; Використовуйте наступні символи для визначення шаблону:&nbsp; </span></p>
<p class=rvps3><span class=rvts18>;&nbsp; n - ім’я файла</span></p>
<p class=rvps3><span class=rvts18>;&nbsp; z - розмір не стиснутого файла</span></p>
<p class=rvps3><span class=rvts18>;&nbsp; c - опис файла</span></p>
<p class=rvps3><span class=rvts18>;&nbsp; p - розмір стиснутого файла</span></p>
<p class=rvps3><span class=rvts18>;&nbsp; d - день</span></p>
<p class=rvps3><span class=rvts18>;&nbsp; t - місяць</span></p>
<p class=rvps3><span class=rvts18>;&nbsp; TTT - трьохбуквенне ім’я місяця (Jan, Feb, Mar, ...)</span></p>
<p class=rvps3><span class=rvts18>;&nbsp; y - рік</span></p>
<p class=rvps3><span class=rvts18>;&nbsp; h - години</span></p>
<p class=rvps3><span class=rvts18>;&nbsp; H - буква - модифікатор годинника (a - час до обіду (a.m. time), </span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p - час після обіду (p.m. time))</span></p>
<p class=rvps3><span class=rvts18>;&nbsp; m - хвилини</span></p>
<p class=rvps3><span class=rvts18>;&nbsp; s - секунди</span></p>
<p class=rvps3><span class=rvts18>;&nbsp; a - атрибути</span></p>
<p class=rvps3><span class=rvts18>;&nbsp; e - розширення файла</span></p>
<p class=rvps3><span class=rvts18>;&nbsp; ? - пропустити один символ</span></p>
<p class=rvps3><span class=rvts18>;&nbsp; * - пропускати до першого пробілу чи кінця рядка</span></p>
<p class=rvps3><span class=rvts24>Приклад:</span><span class=rvts18> </span></p>
<p class=rvps3><span class=rvts18>Частина виводу логу JAR :</span></p>
<p class=rvps3><span class=rvts18>346) install\f_0286</span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3656 A.... Win-32&nbsp; Solid&nbsp;&nbsp;&nbsp; 1-1&nbsp;&nbsp; 2002-07-11 13:36:26 2002-12-09 20:41:20</span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 26&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2002-12-09 00:00:00</span></p>
<p class=rvps3><span class=rvts18>347) install\f_0287</span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp; 11323 A.... Win-32&nbsp; Solid&nbsp;&nbsp;&nbsp; 1-1&nbsp;&nbsp; 2002-07-11 13:36:26 2002-12-09 20:41:20</span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 26&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2002-12-09 00:00:00</span></p>
<p class=rvps3><span class=rvts18>і відповідні формати шаблонів:</span></p>
<p class=rvps3><span class=rvts18>Format0="* nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn"</span></p>
<p class=rvps3><span class=rvts18>Format1="zzzzzzzzzz aaaaa&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yyyy tt dd hh mm ss"</span></p>
<p class=rvps3><span class=rvts18>Format2=" "</span></p>
<p class=rvps3><span class=rvts18>&nbsp; </span><span class=rvts12> </span></p>
<p class=rvps2><span class=rvts11><br></span></p>
	<p class="NAVBACK"><a href="#TOC">вгору</a></p>
<p><br></p>
<p><br></p>
<p class=rvps1><a name="commandformat"></a>
<p><br></p>
<p><span class=rvts11>Формат визначення команд</span></p>
<p class=rvps3><span class=rvts12> Команда це рядок який містить змінні. Ці змінні мають знак "%" перед ними і можуть бути замінені під час виклику команди. </span></p>
<p class=rvps3><span class=rvts18>Список змінних команд:</span></p>
<p class=rvps3><span class=rvts18><br></span></p>
<p class=rvps3><span class=rvts18>&nbsp; %P - Довге ім’я архіватора (так як воно в параметрі "Archiver")</span></p>
<p class=rvps3><span class=rvts18>&nbsp; %p - коротке ім’я архіватора (как як воно в параметрі "Archiver")</span></p>
<p class=rvps3><span class=rvts18>&nbsp; %A - довге ім’я архівного файла </span></p>
<p class=rvps3><span class=rvts18>&nbsp; %a - коротке ім’я архівного файла </span></p>
<p class=rvps3><span class=rvts18>&nbsp; %L - ім’я Filelist (списка файлів). Filelist -це файл який містить імена файлів </span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; які повинні бути оброблені зовнішнім архіватором. Імена файлів довгі. </span></p>
<p class=rvps3><span class=rvts18>&nbsp; %l - Filelist з короткими іменами файлів.</span></p>
<p class=rvps3><span class=rvts18>&nbsp; %F - ім’я одного файла для обробки. Архіватор буде викликаний кілька разів, до тих</span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; пір поки всі файли не будуть оброблені. </span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ця змінна повинна бути використана тільки якщо архіватор не підтримує </span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; список файлів в рядку виклику.</span></p>
<p class=rvps3><span class=rvts18>&nbsp; %V - Розмір тома (для багатотомного архіву).</span></p>
<p class=rvps3><span class=rvts18>&nbsp; %W - Пароль.</span></p>
<p class=rvps3><span class=rvts18>&nbsp; %E&lt;errorlevel&gt; - максимальний допустимий код завершення (errorlevel).</span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Наприклад, %E2 означає, що приймаются коди завершення 0, 1 і 2.</span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ця змінна може бути вказана в будь-якому місці команди. Якщо вона </span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; відсутня, тільки код завершення 0 розпізнається як успішний.</span></p>
<p class=rvps3><span class=rvts18>&nbsp; %O - За замовчуванням, MultiArc перетворює вивід архіватора з OEM кодування </span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (DOS) в ANSI (Windows). Застосовуйте його для пропуску змінної.</span></p>
<p class=rvps3><span class=rvts18><br></span></p>
<p class=rvps3><span class=rvts18>&nbsp; %R - цільова піддиректорія в архіві</span></p>
<p class=rvps3><span class=rvts18><br></span></p>
<p class=rvps3><span class=rvts18>&nbsp; {} - якщо деякі змінні взяті у фігурні дужки то вона буде </span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; додана тільки якщо&nbsp; ця змінна містить що-небудь не пусте. Дивіться </span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MsCAB addon для прикладу використання.</span></p>
<p class=rvps3><span class=rvts18>&nbsp; </span></p>
<p class=rvps3><span class=rvts18>&nbsp; %S - Залежить від режиму, встановлюється в діалозі Налаштування MultiArc, MultiArc буде </span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; запитувати користувача додоаткові параметри командного рядка, які </span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; повинні бути розміщені на месці %S.</span></p>
<!--
<p class=rvps3><span class=rvts18><br></span></p>
<p class=rvps3><span class=rvts18>&nbsp; %C - Не приховувати вікно консолі під час роботи зовнішнього архіватора. Налаштування консолі</span></p>
<p class=rvps3><span class=rvts18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; має більше параметрів, що можна налаштувати, див. ділог Налаштування MultiArc.</span></p>
-->
<p class=rvps3><span class=rvts18><br></span></p>
<p class=rvps3><span class=rvts18><br></span></p>
<p class=rvps3><span class=rvts18>&nbsp; модифікатори змінних F, Q, q, W, P, A можуть бути використані для зміни формата імені </span></p>
<p class=rvps3><span class=rvts18>&nbsp; файлів: </span></p>
<p class=rvps3><span class=rvts18><br></span></p>
<p class=rvps3><span class=rvts18>&nbsp; F - Включати у список тільки файли (застосовується до змінних %L і %l);</span></p>
<p class=rvps3><span class=rvts18>&nbsp; Q - Брати в лапки імена з пробілами;</span></p>
<p class=rvps3><span class=rvts18>&nbsp; q - Брати в лапки всі імена;</span></p>
<p class=rvps3><span class=rvts18>&nbsp; W - Використовувати тільки імена, без шляху;</span></p>
<p class=rvps3><span class=rvts18>&nbsp; P - Використовувати тільки шлях, без імені;</span></p>
<p class=rvps3><span class=rvts18>&nbsp; A - Використовувати ANSI кодування.</span></p>
<p class=rvps3><span class=rvts18>&nbsp; U - Використовувати UTF-8 кодування.</span></p>
<p class=rvps3><span class=rvts18><br></span></p>
<p class=rvps3><span class=rvts18>&nbsp; Ці модифікатори можуть бутиь вказані одразу після змінної, без пробілів.</span></p>
<p class=rvps3><span class=rvts18>Реальні приклади команд дивіться у addon-ах.</span></p>
<p class=rvps3><span class=rvts18><br></span></p>
<p class=rvps3><span class=rvts25>Примітка:</span></p>
<p class=rvps3><span class=rvts18> Якщо у вас в шляху до архіватора є російські чи українські букви (по логіці будь-який шлях, який містить символи не англійського алфавіту) і ви отримуєте повідомлення на зразок такого: </span></p>
<p class=rvps3><span class=rvts18>"Executing command 'C:\Documents and Settings\Ђ¤¬Ё­Ёбва в(r)а\ђ Ў(r)зЁ(c) бв(r)"\7za.exe -r0 l D:\Це тест російських імен TC\7zSfx.7z' returned errorlevel -1. Possibly an error occurred. Archive listing wasn't retrieved."</span></p>
<p class=rvps3><span class=rvts18>або такого: </span></p>
<p class=rvps3><span class=rvts18>"Executed command 'C:\Documents and Settings\Ђ¤¬Ё­Ёбва в(r)а\ђ Ў(r)зЁ(c) бв(r)"\7za.exe -r0 l D:\Це тест російських імен TC\7zSfx.7z' returned errorlevel -1, which is higher than configured as normal for this command. Probably error occurred. Check your configuration, please..."</span></p>
<p class=rvps3><span class=rvts18>Замініть в Multiarc.ini в секції відповідного архіватора параметри </span><span class=rvts25>Extract</span><span class=rvts18>, </span><span class=rvts25>ExtractWithPath</span><span class=rvts18>, </span><span class=rvts25>Test</span><span class=rvts18>, </span><span class=rvts25>Delete</span><span class=rvts18>, </span><span class=rvts25>Add</span><span class=rvts18> з %Р на %PA чи %PQA.</span><span class=rvts12> </span></p>
<p class=rvps2><span class=rvts11><br></span></p>
	<p class="NAVBACK"><a href="#TOC">вгору</a></p>
<p><br></p>
	<div class="SECT1">
	  <p class="NAVBACK"><a href="index.html">На головну</a></p>
	</div>
<p><br></p>
</body></html>
